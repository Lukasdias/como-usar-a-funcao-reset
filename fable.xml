<fable>
  <config font-family="Share Tech Mono" />

  <!-- Propriedades que serÃ£o resetadas -->
  <property name="pontuacao" default="0" />
  <property name="nivel" default="1" />
  <property name="vidas" default="3" />
  <property name="inventario" default="[]" />
  <property name="fase_atual" default="tutorial" />
  <property name="tempo_jogado" default="0" />
  <property name="achievements" default="[]" />
  <property name="gold" default="100" />
  <property name="experiencia" default="0" />
  <property name="ultima_acao" default="Jogo iniciado" />

  <!-- === PÃGINA INICIAL === -->
  <page id="inicio" bg_color="#e8f5e8">
    <agent
      id="titulo-inicio"
      x="center"
      y="0"
      text="ðŸ”„ Teste da FunÃ§Ã£o reset()"
      color="#2e7d32"
      font-size="28"
    />

    <agent
      id="subtitulo"
      x="center"
      y="90"
      text="Navegue, modifique valores e teste o reset completo!"
      color="#424242"
      font-size="16"
    />

    <!-- Status Inicial -->
    <agent
      id="status-inicial"
      x="center"
      y="165"
      text="ðŸ“Š Estado Inicial - Tudo em valores padrÃ£o"
      color="#1976d2"
      font-size="18"
    />

    <agent
      id="display-inicial"
      x="center"
      y="140"
      text="Pontos: $pontuacao | NÃ­vel: $nivel | Vidas: $vidas | Gold: $gold"
      color="#2e7d32"
      font-size="14"
    />

    <agent
      id="display-inicial2"
      x="center"
      y="220"
      text="Fase: $fase_atual | XP: $experiencia | Tempo: $tempo_jogado min"
      color="#2e7d32"
      font-size="14"
    />

    <!-- NavegaÃ§Ã£o -->
    <agent
      id="ir-jogo"
      x="200"
      y="300"
      text="ðŸŽ® Iniciar Jogo"
      bg_color="#4caf50"
      color="white"
      width="140"
      height="50"
      animation="hover-grow click-bounce"
      on_click="goToPage('jogo')"
    />

    <agent
      id="ir-loja"
      x="400"
      y="300"
      text="ðŸ›’ Ir para Loja"
      bg_color="#ff9800"
      color="white"
      width="140"
      height="50"
      animation="hover-grow click-bounce"
      on_click="goToPage('loja')"
    />

    <agent
      id="ir-stats"
      x="600"
      y="300"
      text="ðŸ“ˆ EstatÃ­sticas"
      bg_color="#2196f3"
      color="white"
      width="140"
      height="50"
      animation="hover-grow click-bounce"
      on_click="goToPage('estatisticas')"
    />

    <!-- BotÃ£o de Reset Principal -->
    <agent
      id="reset-completo"
      x="center"
      y="400"
      text="ðŸ”„ RESET COMPLETO"
      bg_color="#f44336"
      color="white"
      width="200"
      height="60"
      animation="hover-grow click-bounce"
      font-size="18"
      on_click="set(ultima_acao, 'Reset executado!'); reset()"
    />

    <agent
      id="info-reset"
      x="center"
      y="480"
      text="ðŸ’¡ O reset() volta para a primeira pÃ¡gina E reseta todas as propriedades"
      color="#666666"
      font-size="12"
    />
  </page>

  <!-- === PÃGINA DO JOGO === -->
  <page id="jogo" bg_color="#fff3e0">
    <agent
      id="titulo-jogo"
      x="center"
      y="30"
      text="ðŸŽ® Ãrea do Jogo"
      color="#e65100"
      font-size="24"
    />

    <agent
      id="status-jogo"
      x="center"
      y="80"
      text="Modifique os valores e teste o reset!"
      color="#424242"
      font-size="14"
    />

    <!-- Status Atual -->
    <agent
      id="display-jogo"
      x="center"
      y="120"
      text="Pontos: $pontuacao | NÃ­vel: $nivel | Vidas: $vidas | XP: $experiencia"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="display-fase"
      x="center"
      y="150"
      text="Fase: $fase_atual | Ãšltima aÃ§Ã£o: $ultima_acao"
      color="#2e7d32"
      font-size="14"
    />

    <!-- AÃ§Ãµes do Jogo -->
    <agent
      id="ganhar-pontos"
      x="100"
      y="220"
      text="Ganhar 100 Pontos"
      bg_color="#4caf50"
      color="white"
      width="140"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(pontuacao, $pontuacao + 100); 
                     set(experiencia, $experiencia + 25);
                     set(ultima_acao, 'Ganhou 100 pontos!');"
    />

    <agent
      id="subir-nivel"
      x="260"
      y="220"
      text="Subir de NÃ­vel"
      bg_color="#9c27b0"
      color="white"
      width="120"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(nivel, $nivel + 1); 
                     set(experiencia, $experiencia + 100);
                     set(ultima_acao, 'Subiu para nÃ­vel $nivel!');"
    />

    <agent
      id="perder-vida"
      x="400"
      y="220"
      text="Perder Vida"
      bg_color="#f44336"
      color="white"
      width="100"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(vidas, $vidas - 1); 
                     set(ultima_acao, 'Perdeu 1 vida!');"
    />

    <agent
      id="mudar-fase"
      x="520"
      y="220"
      text="PrÃ³xima Fase"
      bg_color="#3f51b5"
      color="white"
      width="120"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(fase_atual, 'fase-' + $nivel); 
                     set(tempo_jogado, $tempo_jogado + 5);
                     set(ultima_acao, 'AvanÃ§ou para: $fase_atual');"
    />

    <!-- NavegaÃ§Ã£o -->
    <agent
      id="voltar-inicio"
      x="150"
      y="320"
      text="ðŸ  Voltar ao InÃ­cio"
      bg_color="#607d8b"
      color="white"
      width="140"
      height="40"
      animation="hover-grow"
      on_click="goToPage('inicio')"
    />

    <agent
      id="ir-loja-jogo"
      x="320"
      y="320"
      text="ðŸ›’ Ir para Loja"
      bg_color="#ff9800"
      color="white"
      width="120"
      height="40"
      animation="hover-grow"
      on_click="goToPage('loja')"
    />

    <agent
      id="reset-do-jogo"
      x="470"
      y="320"
      text="ðŸ”„ RESET"
      bg_color="#f44336"
      color="white"
      width="100"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(ultima_acao, 'Reset do jogo!'); reset()"
    />
  </page>

  <!-- === PÃGINA DA LOJA === -->
  <page id="loja" bg_color="#f3e5f5">
    <agent
      id="titulo-loja"
      x="center"
      y="30"
      text="ðŸ›’ Loja do Jogo"
      color="#7b1fa2"
      font-size="24"
    />

    <!-- Status da Loja -->
    <agent
      id="display-loja"
      x="center"
      y="80"
      text="ðŸ’° Gold: $gold | InventÃ¡rio: $inventario"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="status-loja"
      x="center"
      y="110"
      text="Ãšltima aÃ§Ã£o: $ultima_acao"
      color="#666666"
      font-size="14"
    />

    <!-- Itens da Loja -->
    <agent
      id="comprar-espada"
      x="150"
      y="180"
      text="âš”ï¸ Comprar Espada\n(50 gold)"
      bg_color="#4caf50"
      color="white"
      width="120"
      height="60"
      animation="hover-grow click-bounce"
      on_click="set(gold, $gold - 50); 
                     set(inventario, [...$inventario, 'espada']);
                     set(ultima_acao, 'Comprou espada!');"
    />

    <agent
      id="comprar-pocao"
      x="300"
      y="180"
      text="ðŸ§ª Comprar PoÃ§Ã£o\n(30 gold)"
      bg_color="#2196f3"
      color="white"
      width="120"
      height="60"
      animation="hover-grow click-bounce"
      on_click="set(gold, $gold - 30); 
                     set(inventario, [...$inventario, 'poÃ§Ã£o']);
                     set(ultima_acao, 'Comprou poÃ§Ã£o!');"
    />

    <agent
      id="comprar-escudo"
      x="450"
      y="180"
      text="ðŸ›¡ï¸ Comprar Escudo\n(80 gold)"
      bg_color="#ff9800"
      color="white"
      width="120"
      height="60"
      animation="hover-grow click-bounce"
      on_click="set(gold, $gold - 80); 
                     set(inventario, [...$inventario, 'escudo']);
                     set(ultima_acao, 'Comprou escudo!');"
    />

    <agent
      id="ganhar-gold"
      x="600"
      y="180"
      text="ðŸ’Ž Ganhar Gold\n(+200)"
      bg_color="#ffc107"
      color="black"
      width="120"
      height="60"
      animation="hover-grow click-bounce"
      on_click="set(gold, $gold + 200); 
                     set(ultima_acao, 'Ganhou 200 gold!');"
    />

    <!-- NavegaÃ§Ã£o -->
    <agent
      id="voltar-jogo"
      x="200"
      y="280"
      text="ðŸŽ® Voltar ao Jogo"
      bg_color="#4caf50"
      color="white"
      width="140"
      height="40"
      animation="hover-grow"
      on_click="goToPage('jogo')"
    />

    <agent
      id="ir-stats-loja"
      x="360"
      y="280"
      text="ðŸ“ˆ Ver EstatÃ­sticas"
      bg_color="#2196f3"
      color="white"
      width="140"
      height="40"
      animation="hover-grow"
      on_click="goToPage('estatisticas')"
    />

    <agent
      id="reset-da-loja"
      x="520"
      y="280"
      text="ðŸ”„ RESET"
      bg_color="#f44336"
      color="white"
      width="100"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(ultima_acao, 'Reset da loja!'); reset()"
    />
  </page>

  <!-- === PÃGINA DE ESTATÃSTICAS === -->
  <page id="estatisticas" bg_color="#e1f5fe">
    <agent
      id="titulo-stats"
      x="center"
      y="30"
      text="ðŸ“ˆ EstatÃ­sticas do Jogador"
      color="#0277bd"
      font-size="24"
    />

    <!-- EstatÃ­sticas Detalhadas -->
    <agent
      id="stats-pontuacao"
      x="center"
      y="100"
      text="ðŸŽ¯ PontuaÃ§Ã£o Total: $pontuacao pontos"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-nivel"
      x="center"
      y="130"
      text="â­ NÃ­vel Atual: $nivel"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-vidas"
      x="center"
      y="160"
      text="â¤ï¸ Vidas Restantes: $vidas"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-gold"
      x="center"
      y="190"
      text="ðŸ’° Gold: $gold moedas"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-xp"
      x="center"
      y="220"
      text="ðŸŒŸ ExperiÃªncia: $experiencia XP"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-tempo"
      x="center"
      y="250"
      text="â±ï¸ Tempo Jogado: $tempo_jogado minutos"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-fase"
      x="center"
      y="280"
      text="ðŸ† Fase Atual: $fase_atual"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-inventario"
      x="center"
      y="310"
      text="ðŸŽ’ InventÃ¡rio: $inventario"
      color="#2e7d32"
      font-size="16"
    />

    <agent
      id="stats-ultima"
      x="center"
      y="350"
      text="ðŸ”„ Ãšltima AÃ§Ã£o: $ultima_acao"
      color="#666666"
      font-size="14"
    />

    <!-- AÃ§Ãµes de Teste -->
    <agent
      id="achievement"
      x="200"
      y="420"
      text="ðŸ… Ganhar Achievement"
      bg_color="#4caf50"
      color="white"
      width="160"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(achievements, [...$achievements, 'Explorador']);
                     set(ultima_acao, 'Achievement desbloqueado!');"
    />

    <agent
      id="tempo-extra"
      x="400"
      y="420"
      text="â° +10 min de jogo"
      bg_color="#ff9800"
      color="white"
      width="140"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(tempo_jogado, $tempo_jogado + 10);
                     set(ultima_acao, 'Tempo de jogo aumentado!');"
    />

    <!-- NavegaÃ§Ã£o -->
    <agent
      id="voltar-inicio-stats"
      x="150"
      y="500"
      text="ðŸ  InÃ­cio"
      bg_color="#607d8b"
      color="white"
      width="100"
      height="40"
      animation="hover-grow"
      on_click="goToPage('inicio')"
    />

    <agent
      id="voltar-jogo-stats"
      x="270"
      y="500"
      text="ðŸŽ® Jogo"
      bg_color="#4caf50"
      color="white"
      width="100"
      height="40"
      animation="hover-grow"
      on_click="goToPage('jogo')"
    />

    <agent
      id="voltar-loja-stats"
      x="390"
      y="500"
      text="ðŸ›’ Loja"
      bg_color="#ff9800"
      color="white"
      width="100"
      height="40"
      animation="hover-grow"
      on_click="goToPage('loja')"
    />

    <agent
      id="reset-stats"
      x="510"
      y="500"
      text="ðŸ”„ RESET TOTAL"
      bg_color="#f44336"
      color="white"
      width="120"
      height="40"
      animation="hover-grow click-bounce"
      on_click="set(ultima_acao, 'Reset das estatÃ­sticas!'); reset()"
    />

    <!-- Info -->
    <agent
      id="info-reset-stats"
      x="center"
      y="560"
      text="ðŸ’¡ O reset() irÃ¡ voltar para 'inicio' e zerar TODAS as propriedades"
      color="#666666"
      font-size="12"
    />
  </page>
</fable>
